<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="image/favicon.ico" type="image/x-icon">
    <title>–ù–æ–≤–æ—Å—Ç–∏ –ë—É—Å—Ç–∏ - Web Dev</title>
    <link rel="stylesheet" href="style/style.css">
</head>

<!-- Start of Tawk.to Script -->
<script type="text/javascript">
    var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
    (function() {
        var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
        s1.async = true;
        s1.src = 'https://embed.tawk.to/679eedbc3a8427326078a60b/1ij2d1acn';
        s1.charset = 'UTF-8';
        s1.setAttribute('crossorigin', '*');
        s0.parentNode.insertBefore(s1, s0);
    })();
</script>
<!-- End of Tawk.to Script -->

<body>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
    <header>
        <nav id="navbar">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </nav>
    </header>

    <main>
        <section class="news-section">
            <h1>–ù–æ–≤–æ—Å—Ç–∏ —Å –ë—É—Å—Ç–∏</h1>

            <!-- –°–µ–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π -->
            <div id="news-list">
                <!-- –ù–æ–≤–æ—Å—Ç–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å—é–¥–∞ -->
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Web Dev | <a href="webdevprivacy.html" target="_blank">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a> | –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –≤–∞—Å –∑–∞ —É—á–∞—Å—Ç–∏–µ –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ! üåü</p>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
        const handleError = (error, message) => {
            console.error(message, error);
            alert('–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞ –ø–æ–∑–∂–µ!');
        };

        // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–π –ø–∞–Ω–µ–ª–∏
        document.addEventListener('DOMContentLoaded', () => {
            fetch('nav/navbar.html') // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –ø—É—Ç—å –∫ –≤–∞—à–µ–º—É —Ñ–∞–π–ª—É —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–º –º–µ–Ω—é
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${response.status}`);
                    }
                    return response.text();
                })
                .then(data => {
                    document.getElementById('navbar').innerHTML = data;
                })
                .catch(error => handleError(error, '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –º–µ–Ω—é'));

            // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ JSON-—Ñ–∞–π–ª–∞
            fetch('news.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π: ${response.status}`);
                    }
                    return response.json();
                })
                .then(newsData => {
                    displayNews(newsData);
                })
                .catch(error => handleError(error, '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π'));
        });

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π
        function displayNews(newsData) {
            const newsListContainer = document.getElementById('news-list');
            if (newsData && Array.isArray(newsData) && newsData.length > 0) {
                newsData.forEach(news => {
                    const newsItem = `
                        <div class="news-card">
                            <h2>${news.title}</h2>
                            <p>${news.content}</p>
                            <small>–î–∞—Ç–∞: ${news.date}</small>
                        </div>
                    `;
                    newsListContainer.innerHTML += newsItem;
                });
            } else {
                newsListContainer.innerHTML = '<p>–ù–µ—Ç –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.</p>';
            }
        }
    </script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</body>
</html>

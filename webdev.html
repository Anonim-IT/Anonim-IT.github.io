<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–Ω–ª–∞–π–Ω-—Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ - Web Dev</title>
    <link rel="stylesheet" href="stiles.css">
    <link rel="icon" href="image/favicon.ico" type="image/x-icon">
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è CodeMirror -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.0/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.0/theme/dracula.min.css">

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Pyodide –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Python-–∫–æ–¥–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.22.1/full/pyodide.js"></script>
</head>

<body>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
    <header>
        <div id="navbar-container"></div>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <div class="editor-container">
        <h1>–û–Ω–ª–∞–π–Ω-—Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ Web Dev</h1>
        <p>–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å —Å –∫–æ–¥–æ–º, –∏–∑–º–µ–Ω—è–π—Ç–µ HTML, CSS, JavaScript –∏–ª–∏ Python –∏ —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.</p>

        <!-- –†–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è –∫–æ–¥–∞ -->
        <div id="code-editor" class="editor-box"></div>
        
        <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–¥–∞ -->
        <button onclick="runCode()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–¥</button>

        <!-- –û–±–ª–∞—Å—Ç—å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
        <iframe id="output" class="editor-box"></iframe>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è CodeMirror -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.0/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.0/mode/htmlmixed/htmlmixed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.0/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.0/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.0/mode/css/css.min.js"></script>

    <!-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è CodeMirror -->
    <script>
        var editor = CodeMirror(document.getElementById('code-editor'), {
            mode: "htmlmixed",  // –î–ª—è HTML, CSS –∏ JavaScript
            theme: "dracula",   // –¢–µ–º–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
            lineNumbers: true,  // –ù–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫
            tabSize: 2,         // –†–∞–∑–º–µ—Ä —Ç–∞–±—É–ª—è—Ü–∏–∏
            indentWithTabs: true, // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–∞–±—É–ª—è—Ü–∏—é –¥–ª—è –æ—Ç—Å—Ç—É–ø–æ–≤
            lineWrapping: true, // –ê–≤—Ç–æ–ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫
            height: "400px",    // –í—ã—Å–æ—Ç–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
            value: "<!-- –ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –∫–æ–¥ –∑–¥–µ—Å—å -->\n" // –ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–¥
        });

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–¥–∞
        async function runCode() {
            const code = editor.getValue();  // –ü–æ–ª—É—á–∞–µ–º –∫–æ–¥ –∏–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
            const language = 'python';  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è–∑—ã–∫ Python (–¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞)

            if (language === 'python') {
                // –ó–∞–≥—Ä—É–∂–∞–µ–º Pyodide (–µ—Å–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω)
                if (typeof pyodide === 'undefined') {
                    await loadPyodide();  // –ó–∞–≥—Ä—É–∂–∞–µ–º Pyodide
                }

                try {
                    // –í—ã–ø–æ–ª–Ω—è–µ–º Python-–∫–æ–¥ —Å –ø–æ–º–æ—â—å—é Pyodide
                    const output = await pyodide.runPythonAsync(code);
                    displayOutput(output);  // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ iframe
                } catch (error) {
                    displayOutput(error);  // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
                }
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
        function displayOutput(output) {
            const outputFrame = document.getElementById('output');
            outputFrame.srcdoc = `<pre>${output}</pre>`;  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–≤–æ–¥ –≤ iframe
        }

        // –ó–∞–≥—Ä—É–∂–∞–µ–º Pyodide
        async function loadPyodide() {
            pyodide = await loadPyodide({indexURL: "https://cdn.jsdelivr.net/pyodide/v0.22.1/full/"});
        }
    </script>

    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–π –ø–∞–Ω–µ–ª–∏ -->
    <script>
        fetch('navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar-container').innerHTML = data;
            })
            .catch(error => {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–π –ø–∞–Ω–µ–ª–∏:', error);
            });

        // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –º–µ–Ω—é
        const menuToggle = document.querySelector('.menu-toggle');
        const menuList = document.querySelector('.menu-list');
  
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∏ –∑–∞–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é
        menuToggle.addEventListener('click', () => {
            menuList.classList.toggle('open'); // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –∫–ª–∞—Å—Å 'open' –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è/—Å–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é
        });
    </script>

    <!-- –§—É—Ç–µ—Ä -->
    <footer>
        <p>&copy; 2025 Web Dev | <a href="https://github.com/WebDevCompany/Privacy_Policy" target="_blank">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a> | –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –≤–∞—Å –∑–∞ —É—á–∞—Å—Ç–∏–µ –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ! üåü</p>
    </footer>

</body>
</html>
